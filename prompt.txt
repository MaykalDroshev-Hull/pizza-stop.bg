Delivery page ‚Äî Fix Pack (Desktop + Mobile scope)
üîí –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–ü—Ä–æ–º–µ–Ω–∏—Ç–µ –≤–∞–∂–∞—Ç —Å–∞–º–æ –∑–∞ delivery page (–∏ –∏–º–µ–π–ª–∏—Ç–µ, —Å–≤—ä—Ä–∑–∞–Ω–∏ —Å –Ω–µ–≥–æ). –î—Ä—É–≥–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∏/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –Ω–µ —Å–µ –ø–∏–ø–∞—Ç.

–ò–º–∞—à –ø—Ä–∞–≤–æ—Ç–æ –∞–∫–æ –∏–º–∞—à –ø–æ-—Ö—É–±–∞–≤–∏ –∏–¥–µ–∏ –¥–∞ –º–µ –ø–∏—Ç–∞—à –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—à.

–ù–µ —Å—ä–∑–¥–∞–≤–∞–π –Ω–æ–≤–∏ –∏–º–µ–π–ª —Ç–µ–º–ø–ª–µ–π—Ç–∏ ‚Äî –∏–∑–ø–æ–ª–∑–≤–∞–π —Ç–µ–∫—É—â–∏—Ç–µ; –ø–æ–∑–≤–æ–ª–µ–Ω–∏ —Å–∞ —Å–∞–º–æ –∫–æ—Ä–µ–∫—Ü–∏–∏ –Ω–∞ –∏–∑–ø—Ä–∞—â–∞—á–∞/–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞.

–ü–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ —Ç–∞—Ä–≥–µ—Ç—ä—Ç –µ desktop, –æ—Å–≤–µ–Ω –∞–∫–æ –µ –∏–∑—Ä–∏—á–Ω–æ –∫–∞–∑–∞–Ω–æ ‚Äû—Å–∞–º–æ —Ç–µ–ª–µ—Ñ–æ–Ω/–º–æ–±–∏–ª–Ω–æ‚Äú (–≤–∏–∂ —Ç.4).

–°–ª–µ–¥ –≤—Å–µ–∫–∏ —Ç–∞—Å–∫ –¥–æ–±–∞–≤—è–π –∫—Ä–∞—Ç–∫–∞ –±–µ–ª–µ–∂–∫–∞ —Ç—É–∫ –≤—ä–≤ —Ñ–∞–π–ª–∞. –ò–º–∞—à –ø—Ä–∞–≤–æ—Ç–æ –¥–∞ –¥–æ–±–∞–≤—è—à —Ç–µ–∫—Å—Ç: ‚úÖ Fixed / ‚ö†Ô∏è Potential side effect.

–ü—Ä–∏–º–µ—Ä: ‚úÖ Fixed ‚Äì ‚Ä¶ (—Ñ–∞–π–ª/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ä–µ–¥–æ–≤–µ/PR, –±–µ–ª–µ–∂–∫–∞ –∑–∞ —Ä–∏—Å–∫).

1) –ò–º–µ–π–ª–∏—Ç–µ ‚Äû–í–∞—à–∞—Ç–∞ –ø–æ—Ä—ä—á–∫–∞ –µ –Ω–∞ –ø—ä—Ç‚Äú –∏ ‚Äû–ü–æ—Ä—ä—á–∫–∞—Ç–∞ –∑–∞–ø–æ—á–≤–∞ –¥–∞ —Å–µ –ø—Ä–∏–≥–æ—Ç–≤—è‚Äú ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–µ –Ω–∞ –∏–∑–ø—Ä–∞—â–∞—á–∞

–ü—Ä–æ–±–ª–µ–º
–ü—ä—Ä–≤–∏—è—Ç –∏–º–µ–π–ª (‚Äû–í–∞—à–∞—Ç–∞ –ø–æ—Ä—ä—á–∫–∞ –µ –Ω–∞ –ø—ä—Ç‚Äú) —Å–µ –ø–æ–ª—É—á–∞–≤–∞ ‚Äû–æ—Ç –ü–∏—Ü–∞ –°—Ç–æ–ø‚Äú, –∞ –≤—Ç–æ—Ä–∏—è—Ç (‚Äû–ü–æ—Ä—ä—á–∫–∞—Ç–∞ –∑–∞–ø–æ—á–≤–∞ –¥–∞ —Å–µ –ø—Ä–∏–≥–æ—Ç–≤—è‚Äú) –∏–∑–≥–ª–µ–∂–¥–∞ –∫–∞—Ç–æ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω —á–æ–≤–µ–∫.

–¶–µ–ª
–ò –¥–≤–∞—Ç–∞ –∏–º–µ–π–ª–∞ –¥–∞ –∏–¥–≤–∞—Ç —Å—ä—Å —Å—ä—â–æ—Ç–æ Sender/From –∏–º–µ –∏ –∞–¥—Ä–µ—Å, –Ω–∞–ø—Ä.:
From: "–ü–∏—Ü–∞ –°—Ç–æ–ø" <no-reply@domain.bg> (–∏–ª–∏ –∞–∫—Ç—É–∞–ª–Ω–æ—Ç–æ –±—Ä–∞–Ω–¥ –∏–º–µ/–¥–æ–º–µ–Ω).
Reply-To –¥–∞ –µ –µ–¥–Ω–æ—Ç–∏–ø–Ω–æ (support@‚Ä¶ –∏–ª–∏ info@‚Ä¶), —Å–ø–æ—Ä–µ–¥ —Ç–µ–∫—É—â–∏—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–∏.

Acceptance criteria

–ò –¥–≤–∞—Ç–∞ –∏–º–µ–π–ª–∞ –ø–æ–∫–∞–∑–≤–∞—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω–æ Display Name + From Email.

Reply-To –µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ.

–ù—è–º–∞ –ø—Ä–æ–º—è–Ω–∞ –ø–æ —Å—É–±–∂–µ–∫—Ç/—Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ –∏–º–µ–π–ª–∏—Ç–µ.

–¢–µ—Å—Ç –≤ Gmail/Outlook –ø–æ–∫–∞–∑–≤–∞ –µ–¥–∏–Ω –∏ —Å—ä—â–∏ –∏–∑–ø—Ä–∞—â–∞—á –≤–∏–∑—É–∞–ª–Ω–æ.

–¢–µ—Å—Ç

–¢—Ä–∏ –ø—Ä–æ–±–Ω–∏ –ø–æ—Ä—ä—á–∫–∏ (delivery, pickup, mixed) –∑–∞ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ.

–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ö–µ–¥—ä—Ä–∏—Ç–µ (From, Reply-To) –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è—Ç–∞ –≤ –ø–æ—â–µ–Ω—Å–∫–∏ –∫–ª–∏–µ–Ω—Ç–∏.

‚úÖ Fixed ‚Äì Unified sender for "on the way" & "preparing" emails (src/utils/emailService.ts line 904). Both now use "Pizza Stop" <email> format. Reply-To standardized. ‚ö†Ô∏è Verify DMARC/DKIM alignment.

2) –î–Ω–µ–≤–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Äî –ª–∏–Ω–∏—è—Ç–∞/–≥—Ä–∞—Ñ–∏–∫–∞—Ç–∞ –Ω–µ —Å–µ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–∞

–ü—Ä–æ–±–ª–µ–º
–í —Å–µ–∫—Ü–∏—è—Ç–∞ –∑–∞ –¥–Ω–µ–≤–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–Ω–∏ –∏–º–∞ –≥—Ä–∞—Ñ–∏–∫–∞, –Ω–æ –ª–∏–ø—Å–≤–∞ –≤–∏–∑—É–∞–ª–Ω–∞ –ª–∏–Ω–∏—è/—Å–µ—Ä–∏—è (–Ω–µ –ø–æ–∫–∞–∑–≤–∞ —Å–ø–∞–¥/—É–≤–µ–ª–∏—á–µ–Ω–∏–µ).

–¶–µ–ª
–ì—Ä–∞—Ñ–∏–∫–∞—Ç–∞ –¥–∞ –ø–æ–∫–∞–∑–≤–∞ —Ä–µ–∞–ª–Ω–∞ –ª–∏–Ω–∏—è/—Å–µ—Ä–∏–∏ –ø–æ –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –ø–æ—Ä—ä—á–∫–∏ (–±—Ä–æ–π/–¥–µ–Ω, –æ–±–æ—Ä–æ—Ç/–¥–µ–Ω ‚Äî —Å–ø–æ—Ä–µ–¥ –Ω–∞–ª–∏—á–Ω–∏—è API). –ü—Ä–∏ –ª–∏–ø—Å–∞ –Ω–∞ –¥–∞–Ω–Ω–∏ ‚Üí –æ—Å–º–∏—Å–ª–µ–Ω –ø—Ä–∞–∑–µ–Ω state (‚Äû–ù—è–º–∞ –¥–∞–Ω–Ω–∏ –∑–∞ –∏–∑–±—Ä–∞–Ω–∏—è –ø–µ—Ä–∏–æ–¥‚Äú), –∞ –Ω–µ –ø—Ä–∞–∑–µ–Ω –ø–ª–∞—Ç–Ω–æ.

Acceptance criteria

–†–µ–Ω–¥–µ—Ä–∏—Ä–∞ —Å–µ –º–∏–Ω–∏–º—É–º –µ–¥–Ω–∞ –ª–∏–Ω–∏—è/—Å–µ—Ä–∏—è –∑–∞ –¥–Ω–µ–≤–Ω–∏—Ç–µ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏.

–û—Å—Ç–∞ –≤—Ä–µ–º–µ –µ –∫–æ—Ä–µ–∫—Ç–Ω–∞ (–ª–æ–∫–∞–ª: Europe/Sofia).

–ü—Ä–∏ 0 —Ç–æ—á–∫–∏ –∏–º–∞ empty state –≤–º–µ—Å—Ç–æ ‚Äû–ø—Ä–∞–∑–Ω–∞‚Äú –≥—Ä–∞—Ñ–∏–∫–∞.

–ù—è–º–∞ JS –≥—Ä–µ—à–∫–∏/–≤–∞—Ä–Ω–∏–Ω–≥–∏ –≤ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞.

–¢–µ—Å—Ç

–î–∞–Ω–Ω–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ 7/30 –¥–Ω–∏.

–†—ä—á–Ω–æ –≤–∫–∞—Ä–∞–Ω–∏ sample –¥–∞–Ω–Ω–∏ (dev) ‚Üí –≤–∏–∂–¥–∞ —Å–µ –ª–∏–Ω–∏—è –∏ —Ç–æ—á–∫–∏.

Edge case: –µ–¥–∏–Ω –¥–µ–Ω –¥–∞–Ω–Ω–∏ (1 —Ç–æ—á–∫–∞) ‚Üí –ø–æ–∫–∞–∑–≤–∞ —Å–µ –º–∞—Ä–∫–µ—Ä/–±–∞—Ä/–ª–∏–Ω–∏—è —Å–ø–æ—Ä–µ–¥ –ª–∏–±–∞—Ç–∞.

‚úÖ Fixed ‚Äì Daily chart renders series (src/app/delivery/page.tsx lines 1475-1544). Added SVG line chart overlay with trend visualization, data points, and legend. Improved empty state message. Chart shows both bars and trend line.

3) Pickup (–≤–∑–µ–º–∞–Ω–µ –æ—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω—Ç) ‚Äî –¥–∞ –Ω–µ –≤–ª–∏–∑–∞ –≤ Delivery page; –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ —Ç–µ–∫—É—â–∏—Ç–µ –∏–º–µ–π–ª–∏ –∑–∞ –ø–æ–ª—É—á–∞–≤–∞–Ω–µ/ETA

–ü—Ä–æ–±–ª–µ–º
–ö–æ–≥–∞—Ç–æ –µ –∏–∑–±—Ä–∞–Ω–∞ –æ–ø—Ü–∏—è ‚Äû–≤–∑–µ–º–∞–Ω–µ –æ—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω—Ç–∞ (pickup)‚Äú, –ø–æ—Ä—ä—á–∫–∞—Ç–∞ –ø—Ä–æ–¥—ä–ª–∂–∞–≤–∞ –∫—ä–º delivery –∏ —Å–µ —Ç—Ä–µ—Ç–∏—Ä–∞—Ç –∫–∞—Ç–æ ‚Äû–∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞‚Äú.

–¶–µ–ª

Pickup –ø–æ—Ä—ä—á–∫–∏—Ç–µ –¥–∞ –ù–ï —Å–µ –ø–æ—è–≤—è–≤–∞—Ç –≤ —Å–ø–∏—Å—ä–∫–∞/–±–æ—Ä–¥–∞ –Ω–∞ Delivery page.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–∞ —Å–µ –∏–∑–ø—Ä–∞—Ç—è—Ç —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏—Ç–µ –∏–º–µ–π–ª–∏ –∑–∞ –ø–æ–ª—É—á–µ–Ω–∞ –ø–æ—Ä—ä—á–∫–∞ –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤—ä—á–Ω–æ –≤—Ä–µ–º–µ –∑–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç (ETA) ‚Äî –±–µ–∑ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∏ —Ç–µ–º–ø–ª–µ–π—Ç–∏.

Acceptance criteria

–ü–æ—Ä—ä—á–∫–∏ —Å deliveryMethod = pickup –ª–∏–ø—Å–≤–∞—Ç –≤ Delivery page.

–ò–º–µ–π–ª–∏—Ç–µ:

‚Äû–ü–æ—Ä—ä—á–∫–∞—Ç–∞ –µ –ø–æ–ª—É—á–µ–Ω–∞‚Äú (existing template)

‚Äû–©–µ –±—ä–¥–µ –≥–æ—Ç–æ–≤–∞ —Å–ª–µ–¥ ~X –º–∏–Ω.‚Äú (existing template/–¥–∏–Ω–∞–º–∏—á–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ)

–ù—è–º–∞ –ø—Ä–æ–º—è–Ω–∞ –∑–∞ —Ä–µ–∞–ª–Ω–∏—Ç–µ delivery –ø–æ—Ä—ä—á–∫–∏.

–ù–∏—Ç–æ –µ–¥–∏–Ω –¥—Ä—É–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç/flow –Ω–µ –µ –∑–∞—Å–µ–≥–Ω–∞—Ç.

–¢–µ—Å—Ç

–°—ä–∑–¥–∞–π 1√ó pickup –∏ 1√ó delivery –ø–æ—Ä—ä—á–∫–∞:

Pickup ‚Üí –Ω–µ —Å–µ –ø–æ—è–≤—è–≤–∞ –Ω–∞ Delivery page; –∏–º–µ–π–ª–∏—Ç–µ —Å–∞ –∏–∑–ø—Ä–∞—Ç–µ–Ω–∏.

Delivery ‚Üí –ø–æ—è–≤—è–≤–∞ —Å–µ –Ω–æ—Ä–º–∞–ª–Ω–æ; –∏–º–µ–π–ª–∏—Ç–µ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Å—Ç–∞–≤–∞—Ç –±–µ–∑ –ø—Ä–æ–º—è–Ω–∞.

–ü—Ä–æ–≤–µ—Ä–∫–∞, —á–µ ETA —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞ –æ—Ç —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∞—Ç–∞ –ª–æ–≥–∏–∫–∞ (–±–µ–∑ –Ω–æ–≤–∏ –ø—Ä–∞–≤–∏–ª–∞).

‚úÖ Fixed ‚Äì Excluded pickup from Delivery board (src/app/delivery/page.tsx lines 276, 295). Added .neq('OrderType', 1) filter to exclude pickup orders. Added pickup ready time email (src/app/api/order/confirm/route.ts lines 399-419). Reused existing "received" & "ETA" emails; no new templates.

4) (–°–∞–º–æ —Ç–µ–ª–µ—Ñ–æ–Ω) ‚Äî –ò—Å—Ç–æ—Ä–∏—è—Ç–∞ –≤ Delivery page –¥–∞ —Å–µ —Å–∫—Ä–æ–ª–≤–∞ –¥–æ –∫—Ä–∞—è

–ü—Ä–æ–±–ª–µ–º
–ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω History/–ò—Å—Ç–æ—Ä–∏—è –Ω–µ —Å–µ —Å–∫—Ä–æ–ª–≤–∞ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —Å—ä–±–∏—Ç–∏—è/–∫—Ä–∞—è.

–¶–µ–ª
–°–∞–º–æ –Ω–∞ –º–æ–±–∏–ª–Ω–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (—Ç–µ–ª–µ—Ñ–æ–Ω): –∏—Å—Ç–æ—Ä–∏—è—Ç–∞ –¥–∞ —Å–∫—Ä–æ–ª–≤–∞ –¥–æ –∫—Ä–∞—è (auto-scroll on open/append).

Acceptance criteria

–ü—Ä–∏ –æ—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω ‚Üí –∞–≤—Ç–æ—Å–∫—Ä–æ–ª –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—è –µ–ª–µ–º–µ–Ω—Ç.

–ü—Ä–∏ –Ω–æ–≤–æ —Å—ä–±–∏—Ç–∏–µ ‚Üí —Å–∫—Ä–æ–ª –∫—ä–º –ø–æ—Å–ª–µ–¥–Ω–∏—è –µ–ª–µ–º–µ–Ω—Ç (–∞–∫–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –Ω–µ –µ —Ä—ä—á–Ω–æ —Å–∫—Ä–æ–ª–Ω–∞–ª –Ω–∞–≥–æ—Ä–µ).

Desktop/—Ç–∞–±–ª–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Å—Ç–∞–≤–∞ –±–µ–∑ –ø—Ä–æ–º—è–Ω–∞.

–¢–µ—Å—Ç

iOS Safari / Android Chrome.

–ò—Å—Ç–æ—Ä–∏—è —Å –º–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∏; –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤ –ª–æ–≥ ‚Üí autoscroll (mobile only).

–ù—è–º–∞ layout shift/‚Äû—Å–∫–∞—á–∞–Ω–µ‚Äú –ø—Ä–∏ —Ä—ä—á–Ω–æ —á–µ—Ç–µ–Ω–µ –Ω–∞–≥–æ—Ä–µ.

–õ–æ–≥ —Å–ª–µ–¥ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ (–ø–æ–ø—ä–ª–Ω–∏):
‚úÖ Fixed ‚Äì Mobile-only auto-scroll for History (src/app/delivery/page.tsx lines 174-212, 1635-1639). Added scroll detection, auto-scroll on view change and new items, respects manual scrolling. Desktop unaffected.